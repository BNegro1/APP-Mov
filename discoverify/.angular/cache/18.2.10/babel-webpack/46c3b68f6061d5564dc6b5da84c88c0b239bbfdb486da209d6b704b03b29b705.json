{"ast":null,"code":"import _asyncToGenerator from \"D:/Repositorios Oficial/Aplicacion-Movil/APP-Mov/discoverify/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _LoginPage;\nimport { trigger, state, style, animate, transition } from '@angular/animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/dbservice.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/auth.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ionic/angular\";\nconst _c0 = () => [\"/register\"];\nfunction LoginPage_ion_text_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-text\", 19)(1, \"p\");\n    i0.ɵɵtext(2, \"Por favor, ingrese un correo v\\u00E1lido.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"@shakeAnimation\", undefined);\n  }\n}\nfunction LoginPage_ion_text_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-text\", 19)(1, \"p\");\n    i0.ɵɵtext(2, \"La contrase\\u00F1a es requerida.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"@shakeAnimation\", undefined);\n  }\n}\nexport class LoginPage {\n  constructor(dbService, router, authService) {\n    this.dbService = dbService;\n    this.router = router;\n    this.authService = authService;\n    this.login = {\n      email: '',\n      contrasenna: ''\n    };\n    // Se inicializan los campos de error con un string vacío para que no se muestre ningún mensaje de error al principio de la página de login\n    this.campoCorreo = '';\n    this.campoContrasenna = '';\n    this.showPassword = false;\n  } // Inyectar DbService, Router y AuthService\n  ngOnInit() {}\n  // Se define el método toggleShowPassword que cambia el valor de la variable showPassword entre true y false\n  toggleShowPassword() {\n    this.showPassword = !this.showPassword;\n  }\n  forgotPassword() {\n    this.showPassword = !this.showPassword;\n  }\n  // Se define el método ingresar que se ejecuta al hacer clic en el botón de ingreso\n  ingresar() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.validarDatos(_this.login)) {\n        const isValidUser = yield _this.dbService.validateUser(_this.login.email, _this.login.contrasenna); // Se valida el usuario con el correo electrónico y la contraseña ingresados\n        if (isValidUser) {\n          _this.authService.login('token', _this.login.email); // Se inicia sesión con el correo electrónico del usuario\n          let navigationExtras = {\n            state: {\n              userEmail: _this.login.email\n            }\n          };\n          _this.router.navigate(['/home'], navigationExtras);\n        } else {\n          _this.campoCorreo = 'El correo o la contraseña son incorrectos.'; // Si el usuario no es válido, se muestra un mensaje de error en el campo de correo\n        }\n      }\n    })();\n  }\n  // Se valida el correo electrónico y la contraseña y se redirige al usuario a la página de inicio si los datos son correctos\n  validarDatos(model) {\n    // Se inicializan los campos de error con un string vacío\n    this.campoCorreo = '';\n    this.campoContrasenna = '';\n    if (!model.email || !model.email.includes('@')) {\n      // Si el correo electrónico no está presente o no contiene un \"@\" se muestra un mensaje de error en el campo de correo\n      this.campoCorreo = 'Por favor ingrese un correo electrónico válido.';\n      return false;\n    }\n    if (!model.contrasenna || model.contrasenna.length < 6) {\n      // Si la contraseña no está presente o tiene menos de 6 caracteres se muestra un mensaje de error en el campo de contraseña\n      this.campoContrasenna = 'La contraseña debe tener al menos 6 caracteres.';\n      return false;\n    }\n    return true;\n  }\n}\n_LoginPage = LoginPage;\n_LoginPage.ɵfac = function LoginPage_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || _LoginPage)(i0.ɵɵdirectiveInject(i1.DbService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService));\n};\n_LoginPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _LoginPage,\n  selectors: [[\"app-login\"]],\n  decls: 31,\n  vars: 16,\n  consts: [[\"loginForm\", \"ngForm\"], [\"emailInput\", \"ngModel\"], [\"passwordInput\", \"ngModel\"], [1, \"ion-padding\", 3, \"fullscreen\"], [1, \"login-container\"], [1, \"login-card\", \"ion-padding\"], [1, \"ion-text-center\"], [3, \"ngSubmit\"], [1, \"ion-margin-bottom\"], [\"position\", \"floating\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"color\", \"danger\", 4, \"ngIf\"], [\"name\", \"contrasenna\", \"required\", \"\", 3, \"ngModelChange\", \"type\", \"ngModel\"], [\"slot\", \"end\", 1, \"password-toggle\", 3, \"click\", \"name\"], [\"type\", \"submit\", \"expand\", \"block\", 1, \"ion-margin-top\", 3, \"disabled\"], [\"name\", \"log-in-outline\", \"slot\", \"end\"], [1, \"additional-options\", \"ion-margin-top\"], [\"fill\", \"clear\", \"size\", \"small\", 3, \"click\"], [\"fill\", \"clear\", \"size\", \"small\", 3, \"routerLink\"], [\"color\", \"danger\"]],\n  template: function LoginPage_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"ion-content\", 3)(1, \"div\", 4)(2, \"ion-card\", 5)(3, \"ion-card-header\")(4, \"ion-card-title\", 6)(5, \"h1\");\n      i0.ɵɵtext(6, \"Inicia Sesi\\u00F3n\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"ion-card-content\")(8, \"form\", 7, 0);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginPage_Template_form_ngSubmit_8_listener() {\n        i0.ɵɵrestoreView(_r1);\n        return i0.ɵɵresetView(ctx.ingresar());\n      });\n      i0.ɵɵelementStart(10, \"ion-item\", 8)(11, \"ion-label\", 9);\n      i0.ɵɵtext(12, \"Correo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"ion-input\", 10, 1);\n      i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_13_listener($event) {\n        i0.ɵɵrestoreView(_r1);\n        i0.ɵɵtwoWayBindingSet(ctx.login.email, $event) || (ctx.login.email = $event);\n        return i0.ɵɵresetView($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(15, LoginPage_ion_text_15_Template, 3, 1, \"ion-text\", 11);\n      i0.ɵɵelementStart(16, \"ion-item\", 8)(17, \"ion-label\", 9);\n      i0.ɵɵtext(18, \"Contrase\\u00F1a\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"ion-input\", 12, 2);\n      i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_19_listener($event) {\n        i0.ɵɵrestoreView(_r1);\n        i0.ɵɵtwoWayBindingSet(ctx.login.contrasenna, $event) || (ctx.login.contrasenna = $event);\n        return i0.ɵɵresetView($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"ion-icon\", 13);\n      i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_icon_click_21_listener() {\n        i0.ɵɵrestoreView(_r1);\n        return i0.ɵɵresetView(ctx.toggleShowPassword());\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(22, LoginPage_ion_text_22_Template, 3, 1, \"ion-text\", 11);\n      i0.ɵɵelementStart(23, \"ion-button\", 14);\n      i0.ɵɵtext(24, \" Ingresar \");\n      i0.ɵɵelement(25, \"ion-icon\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"div\", 16)(27, \"ion-button\", 17);\n      i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_27_listener() {\n        i0.ɵɵrestoreView(_r1);\n        return i0.ɵɵresetView(ctx.forgotPassword());\n      });\n      i0.ɵɵtext(28, \" \\u00BFOlvidaste tu contrase\\u00F1a? \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"ion-button\", 18);\n      i0.ɵɵtext(30, \" \\u00BFNo tienes cuenta? Reg\\u00EDstrate \");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      const loginForm_r2 = i0.ɵɵreference(9);\n      const emailInput_r3 = i0.ɵɵreference(14);\n      const passwordInput_r4 = i0.ɵɵreference(20);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"@fadeInAnimation\", undefined);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"@pulseAnimation\", undefined);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"@slideInAnimation\", undefined);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtwoWayProperty(\"ngModel\", ctx.login.email);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", emailInput_r3.invalid && (emailInput_r3.dirty || emailInput_r3.touched));\n      i0.ɵɵadvance();\n      i0.ɵɵproperty(\"@slideInAnimation\", undefined);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"type\", ctx.showPassword ? \"text\" : \"password\");\n      i0.ɵɵtwoWayProperty(\"ngModel\", ctx.login.contrasenna);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"name\", ctx.showPassword ? \"eye-off-outline\" : \"eye-outline\");\n      i0.ɵɵadvance();\n      i0.ɵɵproperty(\"ngIf\", passwordInput_r4.invalid && (passwordInput_r4.dirty || passwordInput_r4.touched));\n      i0.ɵɵadvance();\n      i0.ɵɵproperty(\"disabled\", !loginForm_r2.form.valid)(\"@pulseAnimation\", undefined);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"@fadeInAnimation\", undefined);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(15, _c0));\n    }\n  },\n  dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i6.IonButton, i6.IonCard, i6.IonCardContent, i6.IonCardHeader, i6.IonCardTitle, i6.IonContent, i6.IonIcon, i6.IonInput, i6.IonItem, i6.IonLabel, i6.IonText, i6.TextValueAccessor, i6.RouterLinkDelegate, i2.RouterLink],\n  styles: [\".login-container[_ngcontent-%COMP%], \\n.register-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100%;\\n}\\n\\n.login-card[_ngcontent-%COMP%], \\n.register-card[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  width: 100%;\\n  background: rgba(255, 255, 255, 0.1);\\n  -webkit-backdrop-filter: blur(10px);\\n          backdrop-filter: blur(10px);\\n  border-radius: 16px;\\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\\n}\\n\\nion-item[_ngcontent-%COMP%] {\\n  --background: rgba(255, 255, 255, 0.05);\\n  --border-color: rgba(255, 255, 255, 0.1);\\n  --highlight-height: 0;\\n  margin-bottom: 16px;\\n  border-radius: 8px;\\n}\\n\\nion-input[_ngcontent-%COMP%] {\\n  --color: #ffffff;\\n}\\n\\nion-label[_ngcontent-%COMP%] {\\n  --color: #ffffff;\\n}\\n\\n.password-toggle[_ngcontent-%COMP%] {\\n  font-size: 1.2rem;\\n  opacity: 0.7;\\n  cursor: pointer;\\n}\\n\\n.additional-options[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\nion-button[_ngcontent-%COMP%] {\\n  --background: #1db954;\\n  --background-activated: #1ed760;\\n  --background-hover: #000000;\\n  --color: #ffffff;\\n  --border-radius: 8px;\\n}\\n\\nion-button[fill=clear][_ngcontent-%COMP%] {\\n  --color: #ffffff;\\n}\\n\\nion-content[_ngcontent-%COMP%] {\\n  --background: #121212;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vLi4vUmVwb3NpdG9yaW9zJTIwT2ZpY2lhbC9BcGxpY2FjaW9uLU1vdmlsL0FQUC1Nb3YvZGlzY292ZXJpZnkvc3JjL2FwcC9wYWdlcy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBRUksYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7O0VBRUksZ0JBQUE7RUFDQSxXQUFBO0VBQ0Esb0NBQUE7RUFDQSxtQ0FBQTtVQUFBLDJCQUFBO0VBQ0EsbUJBQUE7RUFDQSx5Q0FBQTtBQ0NKOztBREVBO0VBQ0ksdUNBQUE7RUFDQSx3Q0FBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQ0NKOztBREVBO0VBQ0ksZ0JBQUE7QUNDSjs7QURFQTtFQUNJLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FDQ0o7O0FERUE7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtBQ0NKOztBREVBO0VBQ0kscUJBQUE7RUFDQSwrQkFBQTtFQUNBLDJCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtBQ0NKOztBREVBO0VBQ0ksZ0JBQUE7QUNDSjs7QURFQTtFQUNJLHFCQUFBO0FDQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4tY29udGFpbmVyLFxuLnJlZ2lzdGVyLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGhlaWdodDogMTAwJTtcbn1cblxuLmxvZ2luLWNhcmQsXG4ucmVnaXN0ZXItY2FyZCB7XG4gICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpO1xuICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gICAgYm94LXNoYWRvdzogMCA0cHggMzBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbmlvbi1pdGVtIHtcbiAgICAtLWJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNSk7XG4gICAgLS1ib3JkZXItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgICAtLWhpZ2hsaWdodC1oZWlnaHQ6IDA7XG4gICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG59XG5cbmlvbi1pbnB1dCB7XG4gICAgLS1jb2xvcjogI2ZmZmZmZjtcbn1cblxuaW9uLWxhYmVsIHtcbiAgICAtLWNvbG9yOiAjZmZmZmZmO1xufVxuXG4ucGFzc3dvcmQtdG9nZ2xlIHtcbiAgICBmb250LXNpemU6IDEuMnJlbTtcbiAgICBvcGFjaXR5OiAwLjc7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uYWRkaXRpb25hbC1vcHRpb25zIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuaW9uLWJ1dHRvbiB7XG4gICAgLS1iYWNrZ3JvdW5kOiAjMWRiOTU0O1xuICAgIC0tYmFja2dyb3VuZC1hY3RpdmF0ZWQ6ICMxZWQ3NjA7XG4gICAgLS1iYWNrZ3JvdW5kLWhvdmVyOiAjMDAwMDAwO1xuICAgIC0tY29sb3I6ICNmZmZmZmY7XG4gICAgLS1ib3JkZXItcmFkaXVzOiA4cHg7IFxufVxuXG5pb24tYnV0dG9uW2ZpbGw9XCJjbGVhclwiXSB7XG4gICAgLS1jb2xvcjogI2ZmZmZmZjtcbn1cblxuaW9uLWNvbnRlbnQge1xuICAgIC0tYmFja2dyb3VuZDogIzEyMTIxMjtcbn0iLCIubG9naW4tY29udGFpbmVyLFxuLnJlZ2lzdGVyLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5sb2dpbi1jYXJkLFxuLnJlZ2lzdGVyLWNhcmQge1xuICBtYXgtd2lkdGg6IDQwMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7XG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDMwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xufVxuXG5pb24taXRlbSB7XG4gIC0tYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KTtcbiAgLS1ib3JkZXItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgLS1oaWdobGlnaHQtaGVpZ2h0OiAwO1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG59XG5cbmlvbi1pbnB1dCB7XG4gIC0tY29sb3I6ICNmZmZmZmY7XG59XG5cbmlvbi1sYWJlbCB7XG4gIC0tY29sb3I6ICNmZmZmZmY7XG59XG5cbi5wYXNzd29yZC10b2dnbGUge1xuICBmb250LXNpemU6IDEuMnJlbTtcbiAgb3BhY2l0eTogMC43O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5hZGRpdGlvbmFsLW9wdGlvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG5pb24tYnV0dG9uIHtcbiAgLS1iYWNrZ3JvdW5kOiAjMWRiOTU0O1xuICAtLWJhY2tncm91bmQtYWN0aXZhdGVkOiAjMWVkNzYwO1xuICAtLWJhY2tncm91bmQtaG92ZXI6ICMwMDAwMDA7XG4gIC0tY29sb3I6ICNmZmZmZmY7XG4gIC0tYm9yZGVyLXJhZGl1czogOHB4O1xufVxuXG5pb24tYnV0dG9uW2ZpbGw9Y2xlYXJdIHtcbiAgLS1jb2xvcjogI2ZmZmZmZjtcbn1cblxuaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6ICMxMjEyMTI7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"],\n  data: {\n    animation: [trigger('fadeInAnimation', [transition(':enter', [style({\n      opacity: 0\n    }), animate('500ms', style({\n      opacity: 1\n    }))])]), trigger('slideInAnimation', [transition(':enter', [style({\n      transform: 'translateY(50%)',\n      opacity: 0\n    }), animate('500ms', style({\n      transform: 'translateY(0)',\n      opacity: 1\n    }))])]), trigger('pulseAnimation', [state('in', style({\n      transform: 'scale(1)'\n    })), transition('void => *', [style({\n      transform: 'scale(0.5)'\n    }), animate('300ms ease-in-out', style({\n      transform: 'scale(1.05)'\n    })), animate('200ms ease-in-out', style({\n      transform: 'scale(1)'\n    }))])]), trigger('shakeAnimation', [transition('* => *', [style({\n      transform: 'translate3d(0, 0, 0)'\n    }), animate('300ms', style({\n      transform: 'translate3d(-10px, 0, 0)'\n    })), animate('100ms', style({\n      transform: 'translate3d(10px, 0, 0)'\n    })), animate('100ms', style({\n      transform: 'translate3d(-10px, 0, 0)'\n    })), animate('100ms', style({\n      transform: 'translate3d(0, 0, 0)'\n    }))])])]\n  }\n});","map":{"version":3,"names":["trigger","state","style","animate","transition","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","undefined","LoginPage","constructor","dbService","router","authService","login","email","contrasenna","campoCorreo","campoContrasenna","showPassword","ngOnInit","toggleShowPassword","forgotPassword","ingresar","_this","_asyncToGenerator","validarDatos","isValidUser","validateUser","navigationExtras","userEmail","navigate","model","includes","length","ɵɵdirectiveInject","i1","DbService","i2","Router","i3","AuthService","selectors","decls","vars","consts","template","LoginPage_Template","rf","ctx","ɵɵlistener","LoginPage_Template_form_ngSubmit_8_listener","ɵɵrestoreView","_r1","ɵɵresetView","ɵɵtwoWayListener","LoginPage_Template_ion_input_ngModelChange_13_listener","$event","ɵɵtwoWayBindingSet","ɵɵtemplate","LoginPage_ion_text_15_Template","LoginPage_Template_ion_input_ngModelChange_19_listener","LoginPage_Template_ion_icon_click_21_listener","LoginPage_ion_text_22_Template","ɵɵelement","LoginPage_Template_ion_button_click_27_listener","ɵɵtwoWayProperty","emailInput_r3","invalid","dirty","touched","passwordInput_r4","loginForm_r2","form","valid","ɵɵpureFunction0","_c0","opacity","transform"],"sources":["D:\\Repositorios Oficial\\Aplicacion-Movil\\APP-Mov\\discoverify\\src\\app\\pages\\login\\login.page.ts","D:\\Repositorios Oficial\\Aplicacion-Movil\\APP-Mov\\discoverify\\src\\app\\pages\\login\\login.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { DbService } from 'src/app/services/dbservice.service';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { trigger, state, style, animate, transition } from '@angular/animations';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n  animations: [\n    trigger('fadeInAnimation', [\n      transition(':enter', [\n        style({ opacity: 0 }),\n        animate('500ms', style({ opacity: 1 })),\n      ]),\n    ]),\n    trigger('slideInAnimation', [\n      transition(':enter', [\n        style({ transform: 'translateY(50%)', opacity: 0 }),\n        animate('500ms', style({ transform: 'translateY(0)', opacity: 1 })),\n      ]),\n    ]),\n    trigger('pulseAnimation', [\n      state('in', style({ transform: 'scale(1)' })),\n      transition('void => *', [\n        style({ transform: 'scale(0.5)' }),\n        animate('300ms ease-in-out', style({ transform: 'scale(1.05)' })),\n        animate('200ms ease-in-out', style({ transform: 'scale(1)' })),\n      ]),\n    ]),\n    trigger('shakeAnimation', [\n      transition('* => *', [\n        style({ transform: 'translate3d(0, 0, 0)' }),\n        animate('300ms', style({ transform: 'translate3d(-10px, 0, 0)' })),\n        animate('100ms', style({ transform: 'translate3d(10px, 0, 0)' })),\n        animate('100ms', style({ transform: 'translate3d(-10px, 0, 0)' })),\n        animate('100ms', style({ transform: 'translate3d(0, 0, 0)' })),\n      ]),\n    ]),\n  ],\n})\n\n\n\nexport class LoginPage implements OnInit { // Implementar OnInit para inicializar el componente\n  login = {\n    email: '',\n    contrasenna: '',\n  };\n\n\n  // Se inicializan los campos de error con un string vacío para que no se muestre ningún mensaje de error al principio de la página de login\n  campoCorreo = '';\n  campoContrasenna = '';\n  showPassword = false;\n\n  constructor(private dbService: DbService, private router: Router, private authService: AuthService) { } // Inyectar DbService, Router y AuthService\n\n  ngOnInit() { }\n\n\n  // Se define el método toggleShowPassword que cambia el valor de la variable showPassword entre true y false\n  toggleShowPassword() {\n    this.showPassword = !this.showPassword;\n  }\n\n  forgotPassword() {\n    this.showPassword = !this.showPassword;\n  }\n\n  // Se define el método ingresar que se ejecuta al hacer clic en el botón de ingreso\n  async ingresar() {\n    if (this.validarDatos(this.login)) {\n      const isValidUser = await this.dbService.validateUser(\n        this.login.email,\n        this.login.contrasenna\n      ); // Se valida el usuario con el correo electrónico y la contraseña ingresados\n\n      if (isValidUser) {\n        this.authService.login('token', this.login.email); // Se inicia sesión con el correo electrónico del usuario\n        let navigationExtras: NavigationExtras = {\n          state: { userEmail: this.login.email },\n        };\n        this.router.navigate(['/home'], navigationExtras);\n      } else {\n        this.campoCorreo = 'El correo o la contraseña son incorrectos.'; // Si el usuario no es válido, se muestra un mensaje de error en el campo de correo\n      }\n    }\n  }\n\n  // Se valida el correo electrónico y la contraseña y se redirige al usuario a la página de inicio si los datos son correctos\n  validarDatos(model: any): boolean {\n\n    // Se inicializan los campos de error con un string vacío\n    this.campoCorreo = '';\n    this.campoContrasenna = '';\n\n    if (!model.email || !model.email.includes('@')) { // Si el correo electrónico no está presente o no contiene un \"@\" se muestra un mensaje de error en el campo de correo\n      this.campoCorreo = 'Por favor ingrese un correo electrónico válido.';\n      return false;\n    }\n\n    if (!model.contrasenna || model.contrasenna.length < 6) { // Si la contraseña no está presente o tiene menos de 6 caracteres se muestra un mensaje de error en el campo de contraseña\n      this.campoContrasenna = 'La contraseña debe tener al menos 6 caracteres.';\n      return false;\n    }\n\n    return true;\n  }\n}","<ion-content [fullscreen]=\"true\" class=\"ion-padding\">\n\n  <div class=\"login-container\">\n    <ion-card class=\"login-card ion-padding\" [@fadeInAnimation]>\n      <ion-card-header>\n        <ion-card-title class=\"ion-text-center\">\n          <h1 [@pulseAnimation]>Inicia Sesión</h1>\n        </ion-card-title>\n      </ion-card-header>\n\n      <ion-card-content>\n        <form (ngSubmit)=\"ingresar()\" #loginForm=\"ngForm\">\n          <ion-item [@slideInAnimation] class=\"ion-margin-bottom\">\n            <ion-label position=\"floating\">Correo</ion-label>\n            <ion-input type=\"email\" [(ngModel)]=\"login.email\" name=\"email\" required #emailInput=\"ngModel\"></ion-input>\n          </ion-item>\n          <ion-text color=\"danger\" *ngIf=\"emailInput.invalid && (emailInput.dirty || emailInput.touched)\">\n            <p [@shakeAnimation]>Por favor, ingrese un correo válido.</p>\n          </ion-text>\n\n          <ion-item [@slideInAnimation] class=\"ion-margin-bottom\">\n            <ion-label position=\"floating\">Contraseña</ion-label>\n            <ion-input [type]=\"showPassword ? 'text' : 'password'\" [(ngModel)]=\"login.contrasenna\" name=\"contrasenna\"\n              required #passwordInput=\"ngModel\"></ion-input>\n            <ion-icon slot=\"end\" [name]=\"showPassword ? 'eye-off-outline' : 'eye-outline'\"\n              (click)=\"toggleShowPassword()\" class=\"password-toggle\"></ion-icon>\n          </ion-item>\n          <ion-text color=\"danger\" *ngIf=\"passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)\">\n            <p [@shakeAnimation]>La contraseña es requerida.</p>\n          </ion-text>\n          <ion-button type=\"submit\" expand=\"block\" [disabled]=\"!loginForm.form.valid\" class=\"ion-margin-top\"\n            [@pulseAnimation]>\n            Ingresar\n            <ion-icon name=\"log-in-outline\" slot=\"end\"></ion-icon>\n          </ion-button>\n        </form>\n\n        <div class=\"additional-options ion-margin-top\" [@fadeInAnimation]>\n          <ion-button fill=\"clear\" size=\"small\" (click)=\"forgotPassword()\">\n            ¿Olvidaste tu contraseña?\n          </ion-button>\n          <ion-button fill=\"clear\" size=\"small\" [routerLink]=\"['/register']\">\n            ¿No tienes cuenta? Regístrate\n          </ion-button>\n        </div>\n      </ion-card-content>\n    </ion-card>\n  </div>\n</ion-content>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}